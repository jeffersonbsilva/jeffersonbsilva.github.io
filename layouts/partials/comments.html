<script
  src="https://giscus.app/client.js"
  data-repo="jeffersonbsilva/jeffersonbsilva.github.io"
  data-repo-id="R_kgDOOcPBHA"
  data-category="Announcements"
  data-category-id="DIC_kwDOOcPBHM4CpQno"
  data-mapping="pathname"
  data-strict="0"
  data-reactions-enabled="1"
  data-emit-metadata="0"
  data-input-position="top"
  data-theme="preferred_color_scheme"
  data-lang="en"
  data-loading="lazy"
  crossorigin="anonymous"
  async
></script>

<script>
  // Set the theme for giscus based on the user's preference
  var theme = localStorage.getItem('pref-theme')
  document
    .querySelector('script[src="https://giscus.app/client.js"]')
    .setAttribute('data-theme', theme === 'dark' ? 'noborder_gray' : 'light')
</script>

<script>
  function setGiscusTheme(theme) {
    const iframe = document.querySelector('iframe.giscus-frame')
    if (!iframe) return
    iframe.contentWindow.postMessage(
      { giscus: { setConfig: { theme } } },
      'https://giscus.app'
    )
  }
  // Listen for theme changes and update giscus theme accordingly
  document.getElementById('theme-toggle').addEventListener('click', () => {
    setGiscusTheme(
      document.body.className.includes('dark') ? 'light' : 'noborder_gray'
    )
  })
</script>
